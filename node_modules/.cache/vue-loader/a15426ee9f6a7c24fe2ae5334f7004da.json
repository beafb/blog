{"remainingRequest":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nicolas/Workplace/nicolasmonnier/blog-nico/src/views/Post.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/src/views/Post.vue","mtime":1604312273054},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n//Importing all the slices components\nimport SlicesBlock from '../components/SlicesBlock.vue'\n\nexport default {\n  name: 'post',\n  components: {\n    SlicesBlock\n  },\n  data () {\n    return {\n      dateOptions: { year: 'numeric', month: 'short', day: '2-digit' },\n      documentId: '',\n      fields: {\n        title: null,\n        date: null,\n      },\n      slices: []\n    }\n  },\n  methods: {\n    getContent (uid) {\n      //Query to get post content\n      this.$prismic.client.getByUID('post', uid)\n        .then((document) => {\n          if (document) {\n            this.documentId = document.id\n            this.fields.title = document.data.title\n            this.fields.date = document.data.date\n\n            //Set slices as variable\n            this.slices = document.data.body\n          }\n          else {\n            //returns error page\n            this.$router.push({ name: 'not-found' })\n          }\n        })\n    }\n  },\n  created () {\n    this.getContent(this.$route.params.uid)\n  },\n  beforeRouteUpdate (to, from, next) {\n    this.getContent(to.params.uid)\n    next()\n  }\n}\n",{"version":3,"sources":["Post.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Post.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"main\">\n    <div class=\"outer-container\">\n      <div class=\"back\">\n        <router-link to=\"./\">back to list</router-link>\n      </div>\n      <!-- Button to edit document in dashboard -->\n      <prismic-edit-button :documentId=\"documentId\"/>\n\n      <h1 class=\"blog-title\">{{ $prismic.richTextAsPlain(fields.title) }}</h1>\n      <p class=\"blog-post-meta\"><span class=\"created-at\">{{ Intl.DateTimeFormat('en-US', dateOptions).format(new Date(fields.date)) }}</span></p>\n      <slices-block :slices=\"slices\"/>\n    </div>\n    <!-- Slice Block Componenet tag -->\n\n  </div>\n</template>\n\n<script>\n//Importing all the slices components\nimport SlicesBlock from '../components/SlicesBlock.vue'\n\nexport default {\n  name: 'post',\n  components: {\n    SlicesBlock\n  },\n  data () {\n    return {\n      dateOptions: { year: 'numeric', month: 'short', day: '2-digit' },\n      documentId: '',\n      fields: {\n        title: null,\n        date: null,\n      },\n      slices: []\n    }\n  },\n  methods: {\n    getContent (uid) {\n      //Query to get post content\n      this.$prismic.client.getByUID('post', uid)\n        .then((document) => {\n          if (document) {\n            this.documentId = document.id\n            this.fields.title = document.data.title\n            this.fields.date = document.data.date\n\n            //Set slices as variable\n            this.slices = document.data.body\n          }\n          else {\n            //returns error page\n            this.$router.push({ name: 'not-found' })\n          }\n        })\n    }\n  },\n  created () {\n    this.getContent(this.$route.params.uid)\n  },\n  beforeRouteUpdate (to, from, next) {\n    this.getContent(to.params.uid)\n    next()\n  }\n}\n</script>\n\n<style>\n.post-part.single a {\n  text-decoration: none;\n  background: -webkit-linear-gradient(top, rgba(0, 0, 0, 0) 75%, rgba(0, 0, 0, 0.8) 75%);\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 0) 75%, rgba(0, 0, 0, 0.8) 75%);\n  background-repeat: repeat-x;\n  background-size: 2px 2px;\n  background-position: 0 23px;\n}\n.blog-post-meta {\n  color: #9A9A9A;\n  font-family: 'Lato', sans-serif;\n  margin-bottom: 8px;\n}\n\n/* Media Queries */\n@media (max-width: 767px) {\n  .post-part pre {\n    font-size: 14px;\n  }\n  .blog-post-meta {\n    font-size: 16px;\n  }\n}\n\n@media screen and (min-width: 768px) {\n  .blog-post-meta {\n    font-size: 16px;\n  }\n}\n</style>\n"]}]}