{"remainingRequest":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nicolas/Workplace/nicolasmonnier/blog-nico/src/views/BlogHome.vue?vue&type=style&index=0&id=70afd15b&scoped=true&lang=css&","dependencies":[{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/src/views/BlogHome.vue","mtime":1604331287679},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.home {\n  max-width: 700px;\n  margin: auto;\n  text-align: center;\n}\n.home .blog-avatar {\n  height: 140px;\n  width: 140px;\n  border-radius: 50%;\n  background-position: center;\n  background-size: cover;\n  margin: 1em auto;\n}\n.home .blog-description {\n  font-size: 18px;\n  color: #9A9A9A;\n  line-height: 30px;\n  margin-bottom: 3rem;\n  padding-bottom: 3rem;\n  font-family: 'Lato', sans-serif;\n  border-bottom: 1px solid #DADADA;\n}\n/* Media Queries */\n@media (max-width: 767px) {\n  .home {\n    padding: 0 20px;\n  }\n}\n",{"version":3,"sources":["BlogHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BlogHome.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <!-- Vue conditional to check if there is any content in document -->\n  <div v-if=\"hasContent\" class=\"page\">\n    <div class=\"home\">\n      <!-- Button to edit document in dashboard -->\n      <!--<prismic-edit-button :documentId=\"documentId\"/>-->\n      <div v-if=\"hasImage\" class=\"blog-avatar\" :style=\"{ backgroundImage: 'url(' + fields.image + ')' }\">\n      </div>\n      <!-- Template for page title -->\n      <h1 class=\"blog-title\">\n        {{ $prismic.richTextAsPlain(fields.headline) }}\n      </h1>\n      <!-- Template for page description -->\n      <p class=\"blog-description\">{{ $prismic.richTextAsPlain(fields.description) }}</p>\n      <button v-on:click=\"getPosts('dev')\">les posts</button>\n    </div>\n    <!-- Vue reference for blog posts component -->\n\n    <blog-posts/>\n  </div>\n  <!-- If no content return message -->\n  <div v-else class=\"home\">\n    <p> Please add some content to your blog home document.</p>\n  </div>\n</template>\n\n<script>\nimport BlogPosts from '../components/BlogPosts.vue'\n\nexport default {\n  name: 'blog-home',\n  components: {\n    BlogPosts\n  },\n  data () {\n    return {\n      documentId: '',\n      fields: {\n        headline: null,\n        description: null,\n        image: null\n      },\n      posts: [],\n      linkResolver: this.$prismic.linkResolver,\n      hasContent: false,\n      hasImage: false\n    }\n  },\n  methods: {\n    getContent () {\n      //Query to get home content\n      this.$prismic.client.getSingle('blog_home')\n        .then((document) => {\n          if (document) {\n            this.documentId = document.id\n            this.fields.headline = document.data.headline;\n            this.fields.description = document.data.description;\n            this.fields.image = document.data.image.url;\n\n            //Check that the blog home contains content\n            this.checkForContent();\n\n          } else {\n            //returns error page\n            this.$router.push({ name: 'not-found' })\n          }\n        })\n    },\n    //Function to check for any content on the blog home page\n    checkForContent(){\n      if (\n        this.fields.image != undefined ||\n        this.$prismic.richTextAsPlain(this.fields.headline) !== \"\" ||\n        this.$prismic.richTextAsPlain(this.fields.description) !== \"\"\n      ) {\n        this.hasContent = true;\n      }\n      if (this.fields.image != undefined) {\n        this.hasImage = true;\n      }\n    },\n  },\n  created () {\n    this.getContent()\n    //window.prismic.setupEditButton();\n  }\n}\n</script>\n\n<style scoped>\n.home {\n  max-width: 700px;\n  margin: auto;\n  text-align: center;\n}\n.home .blog-avatar {\n  height: 140px;\n  width: 140px;\n  border-radius: 50%;\n  background-position: center;\n  background-size: cover;\n  margin: 1em auto;\n}\n.home .blog-description {\n  font-size: 18px;\n  color: #9A9A9A;\n  line-height: 30px;\n  margin-bottom: 3rem;\n  padding-bottom: 3rem;\n  font-family: 'Lato', sans-serif;\n  border-bottom: 1px solid #DADADA;\n}\n/* Media Queries */\n@media (max-width: 767px) {\n  .home {\n    padding: 0 20px;\n  }\n}\n</style>\n"]}]}