{"remainingRequest":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/babel-loader/lib/index.js!/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nicolas/Workplace/nicolasmonnier/blog-nico/src/views/BlogHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/src/views/BlogHome.vue","mtime":1604331287679},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nicolas/Workplace/nicolasmonnier/blog-nico/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BlogPosts from \"../components/BlogPosts.vue\";\nexport default {\n  name: 'blog-home',\n  components: {\n    BlogPosts: BlogPosts\n  },\n  data: function data() {\n    return {\n      documentId: '',\n      fields: {\n        headline: null,\n        description: null,\n        image: null\n      },\n      posts: [],\n      linkResolver: this.$prismic.linkResolver,\n      hasContent: false,\n      hasImage: false\n    };\n  },\n  methods: {\n    getContent: function getContent() {\n      var _this = this;\n\n      //Query to get home content\n      this.$prismic.client.getSingle('blog_home').then(function (document) {\n        if (document) {\n          _this.documentId = document.id;\n          _this.fields.headline = document.data.headline;\n          _this.fields.description = document.data.description;\n          _this.fields.image = document.data.image.url; //Check that the blog home contains content\n\n          _this.checkForContent();\n        } else {\n          //returns error page\n          _this.$router.push({\n            name: 'not-found'\n          });\n        }\n      });\n    },\n    //Function to check for any content on the blog home page\n    checkForContent: function checkForContent() {\n      if (this.fields.image != undefined || this.$prismic.richTextAsPlain(this.fields.headline) !== \"\" || this.$prismic.richTextAsPlain(this.fields.description) !== \"\") {\n        this.hasContent = true;\n      }\n\n      if (this.fields.image != undefined) {\n        this.hasImage = true;\n      }\n    }\n  },\n  created: function created() {\n    this.getContent(); //window.prismic.setupEditButton();\n  }\n};",{"version":3,"sources":["BlogHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,SAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA;AACA,QAAA,QAAA,EAAA,IADA;AAEA,QAAA,WAAA,EAAA,IAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAFA;AAOA,MAAA,KAAA,EAAA,EAPA;AAQA,MAAA,YAAA,EAAA,KAAA,QAAA,CAAA,YARA;AASA,MAAA,UAAA,EAAA,KATA;AAUA,MAAA,QAAA,EAAA;AAVA,KAAA;AAYA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA;AACA,WAAA,QAAA,CAAA,MAAA,CAAA,SAAA,CAAA,WAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,QAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA,CAAA,QAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,WAAA,GAAA,QAAA,CAAA,IAAA,CAAA,WAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,GAAA,CAJA,CAMA;;AACA,UAAA,KAAA,CAAA,eAAA;AAEA,SATA,MASA;AACA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA,OAfA;AAgBA,KAnBA;AAoBA;AACA,IAAA,eArBA,6BAqBA;AACA,UACA,KAAA,MAAA,CAAA,KAAA,IAAA,SAAA,IACA,KAAA,QAAA,CAAA,eAAA,CAAA,KAAA,MAAA,CAAA,QAAA,MAAA,EADA,IAEA,KAAA,QAAA,CAAA,eAAA,CAAA,KAAA,MAAA,CAAA,WAAA,MAAA,EAHA,EAIA;AACA,aAAA,UAAA,GAAA,IAAA;AACA;;AACA,UAAA,KAAA,MAAA,CAAA,KAAA,IAAA,SAAA,EAAA;AACA,aAAA,QAAA,GAAA,IAAA;AACA;AACA;AAhCA,GAnBA;AAqDA,EAAA,OArDA,qBAqDA;AACA,SAAA,UAAA,GADA,CAEA;AACA;AAxDA,CAAA","sourcesContent":["<template>\n  <!-- Vue conditional to check if there is any content in document -->\n  <div v-if=\"hasContent\" class=\"page\">\n    <div class=\"home\">\n      <!-- Button to edit document in dashboard -->\n      <!--<prismic-edit-button :documentId=\"documentId\"/>-->\n      <div v-if=\"hasImage\" class=\"blog-avatar\" :style=\"{ backgroundImage: 'url(' + fields.image + ')' }\">\n      </div>\n      <!-- Template for page title -->\n      <h1 class=\"blog-title\">\n        {{ $prismic.richTextAsPlain(fields.headline) }}\n      </h1>\n      <!-- Template for page description -->\n      <p class=\"blog-description\">{{ $prismic.richTextAsPlain(fields.description) }}</p>\n      <button v-on:click=\"getPosts('dev')\">les posts</button>\n    </div>\n    <!-- Vue reference for blog posts component -->\n\n    <blog-posts/>\n  </div>\n  <!-- If no content return message -->\n  <div v-else class=\"home\">\n    <p> Please add some content to your blog home document.</p>\n  </div>\n</template>\n\n<script>\nimport BlogPosts from '../components/BlogPosts.vue'\n\nexport default {\n  name: 'blog-home',\n  components: {\n    BlogPosts\n  },\n  data () {\n    return {\n      documentId: '',\n      fields: {\n        headline: null,\n        description: null,\n        image: null\n      },\n      posts: [],\n      linkResolver: this.$prismic.linkResolver,\n      hasContent: false,\n      hasImage: false\n    }\n  },\n  methods: {\n    getContent () {\n      //Query to get home content\n      this.$prismic.client.getSingle('blog_home')\n        .then((document) => {\n          if (document) {\n            this.documentId = document.id\n            this.fields.headline = document.data.headline;\n            this.fields.description = document.data.description;\n            this.fields.image = document.data.image.url;\n\n            //Check that the blog home contains content\n            this.checkForContent();\n\n          } else {\n            //returns error page\n            this.$router.push({ name: 'not-found' })\n          }\n        })\n    },\n    //Function to check for any content on the blog home page\n    checkForContent(){\n      if (\n        this.fields.image != undefined ||\n        this.$prismic.richTextAsPlain(this.fields.headline) !== \"\" ||\n        this.$prismic.richTextAsPlain(this.fields.description) !== \"\"\n      ) {\n        this.hasContent = true;\n      }\n      if (this.fields.image != undefined) {\n        this.hasImage = true;\n      }\n    },\n  },\n  created () {\n    this.getContent()\n    //window.prismic.setupEditButton();\n  }\n}\n</script>\n\n<style scoped>\n.home {\n  max-width: 700px;\n  margin: auto;\n  text-align: center;\n}\n.home .blog-avatar {\n  height: 140px;\n  width: 140px;\n  border-radius: 50%;\n  background-position: center;\n  background-size: cover;\n  margin: 1em auto;\n}\n.home .blog-description {\n  font-size: 18px;\n  color: #9A9A9A;\n  line-height: 30px;\n  margin-bottom: 3rem;\n  padding-bottom: 3rem;\n  font-family: 'Lato', sans-serif;\n  border-bottom: 1px solid #DADADA;\n}\n/* Media Queries */\n@media (max-width: 767px) {\n  .home {\n    padding: 0 20px;\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}